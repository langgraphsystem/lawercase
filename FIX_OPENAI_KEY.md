# –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å OpenAI API Key

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

API –∫–ª—é—á –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 401 - "Incorrect API key provided"

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://platform.openai.com/api-keys
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç OpenAI
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á (–∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
   - –ù–∞–∂–º–∏—Ç–µ "Create new secret key"
   - –î–∞–π—Ç–µ –µ–º—É –∏–º—è: "MegaAgent Bot"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –ü–û–õ–ù–û–°–¢–¨–Æ (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å `OPENAI_API_KEY=`
3. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–π –∫–ª—é—á

**–§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
```bash
OPENAI_API_KEY=sk-proj-XXXXXXXXX
```

**–í–ê–ñ–ù–û:**
- ‚úÖ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–±–µ–ª–æ–≤ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ =
- ‚úÖ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞–≤—ã—á–µ–∫
- ‚úÖ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –≤ –∫–ª—é—á–µ
- ‚úÖ –ö–ª—é—á –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `sk-proj-` –∏–ª–∏ `sk-`

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```bash
OPENAI_API_KEY=sk-proj-abc123xyz789...  # pragma: allowlist secret
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```bash
OPENAI_API_KEY= sk-proj-abc123xyz789...  # –õ–∏—à–Ω–∏–π –ø—Ä–æ–±–µ–ª
OPENAI_API_KEY="sk-proj-abc123xyz789..."  # –ö–∞–≤—ã—á–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã  # pragma: allowlist secret
OPENAI_API_KEY=sk-proj-abc123xyz789  # pragma: allowlist secret
  ...–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ  # –ü–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ —Å–ª–æ–º–∞–µ—Ç –∫–ª—é—á
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–ª–∏–Ω—É –∫–ª—é—á–∞

```bash
python -c "import os; from dotenv import load_dotenv; load_dotenv(); key = os.getenv('OPENAI_API_KEY'); print(f'–î–ª–∏–Ω–∞: {len(key) if key else 0}'); print(f'–ù–∞—á–∞–ª–æ: {key[:15] if key else None}')"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–ª–∏–Ω–∞: ~150-200 —Å–∏–º–≤–æ–ª–æ–≤
- –ù–∞—á–∞–ª–æ: `sk-proj-...` –∏–ª–∏ `sk-...`

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
python test_gpt5_direct.py
```

**–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ:**
- ‚úÖ "Success!" - –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç!
- ‚ùå "invalid_api_key" - –∫–ª—é—á –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –®–∞–≥ 1-2
- ‚ùå "model_not_found" - –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ GPT-5 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- ‚ùå "insufficient_quota" - –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—Ä–µ–¥–∏—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://platform.openai.com/usage
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –∫—Ä–µ–¥–∏—Ç—ã
3. –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: https://platform.openai.com/account/billing

## üîç –ï—Å–ª–∏ GPT-5 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

GPT-5 –º–æ–∂–µ—Ç –±—ã—Ç—å:
- –ï—â–µ –Ω–µ –≤—ã–ø—É—â–µ–Ω –ø—É–±–ª–∏—á–Ω–æ
- –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –¢—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPT-5-mini:**

–í —Ñ–∞–π–ª–µ `core/groupagents/mega_agent.py` –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:

```python
# –ë—ã–ª–æ:
client = OpenAIClient(
    model=OpenAIClient.GPT_5,
    ...
)

# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
client = OpenAIClient(
    model=OpenAIClient.GPT_5,  # –∏–ª–∏ "gpt-5-mini"
    temperature=0.2,
    max_tokens=800,
)
```

GPT-5-mini ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ.

## üìù –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python -c "
import asyncio
import os
from dotenv import load_dotenv
from openai import AsyncOpenAI

load_dotenv()

async def test():
    client = AsyncOpenAI(api_key=os.getenv('OPENAI_API_KEY'))
    try:
        response = await client.chat.completions.create(
            model='gpt-5-mini',  # –ò—Å–ø–æ–ª—å–∑—É–µ–º gpt-5-mini –¥–ª—è —Ç–µ—Å—Ç–∞
            messages=[{'role': 'user', 'content': 'Say hello'}],
            max_tokens=10
        )
        print('‚úÖ API KEY WORKS!')
        print(f'Response: {response.choices[0].message.content}')
    except Exception as e:
        print(f'‚ùå Error: {e}')

asyncio.run(test())
"
```

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å OpenAI API:**
   https://status.openai.com

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   https://platform.openai.com/docs/api-reference

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∏–ª–ª–∏–Ω–≥:**
   https://platform.openai.com/account/billing

4. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á:**
   –°—Ç–∞—Ä—ã–π –∫–ª—é—á –º–æ–≥ –∏—Å—Ç–µ—á—å - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
